{"ast":null,"code":"import _toConsumableArray from \"/home/abhinav/Intern_work/workupdatesite/websiteforzias/frontend/ziasupdate/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/abhinav/Intern_work/workupdatesite/websiteforzias/frontend/ziasupdate/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/abhinav/Intern_work/workupdatesite/websiteforzias/frontend/ziasupdate/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/abhinav/Intern_work/workupdatesite/websiteforzias/frontend/ziasupdate/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/abhinav/Intern_work/workupdatesite/websiteforzias/frontend/ziasupdate/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/abhinav/Intern_work/workupdatesite/websiteforzias/frontend/ziasupdate/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/abhinav/Intern_work/workupdatesite/websiteforzias/frontend/ziasupdate/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/abhinav/Intern_work/workupdatesite/websiteforzias/frontend/ziasupdate/src/components/assigning_developer/AssigningDevelopers.js\";\nimport React from 'react';\nimport ReactTable from 'react-table';\nimport checkboxHOC from \"react-table/lib/hoc/selectTable\";\nimport \"react-table/react-table.css\";\nimport Axios from 'axios';\nvar CheckboxTable = new checkboxHOC(ReactTable);\n\nvar AssigningDeveloper =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AssigningDeveloper, _React$Component);\n\n  function AssigningDeveloper(props) {\n    var _this;\n\n    _classCallCheck(this, AssigningDeveloper);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AssigningDeveloper).call(this, props));\n\n    _this.toggleSelection = function (key, shift, row) {\n      var selection = _toConsumableArray(_this.state.selection);\n\n      var keyIndex = selection.indexOf(key);\n\n      if (keyIndex >= 0) {\n        selection = [].concat(_toConsumableArray(selection.slice(0, keyIndex)), _toConsumableArray(selection.slice(keyIndex + 1)));\n      } else {\n        selection.push(key);\n      }\n\n      _this.setState({\n        selection: selection\n      });\n    };\n\n    _this.toggleAll = function () {\n      var selectAll = _this.state.selectAll ? false : true;\n      var selection = [];\n\n      if (selectAll) {\n        var wrappedInstance = _this.checkboxTable.getWrappedInstance();\n\n        var currentRecords = wrappedInstance.getResolvedState().sortedData;\n        currentRecords.forEach(function (item) {\n          selection.push(item._original._id);\n        });\n      }\n\n      _this.setState({\n        selectAll: selectAll,\n        selection: selection\n      });\n    };\n\n    _this.isSelected = function (key) {\n      return _this.state.selection.includes(key);\n    };\n\n    _this.logSelection = function () {\n      Axios.get('http://localhost:3002/user', {\n        withCredentials: true\n      }).then(function (res) {\n        if (res.status === 200) {\n          Axios.put(\"http://localhost:3002/assigndevelopers/\".concat(_this.props.match.params.proid), {\n            developers: _this.state.selection\n          }, {\n            headers: {\n              Authorization: \"Bearer \".concat(res.data)\n            }\n          });\n        }\n      });\n    };\n\n    _this.state = {\n      data: [],\n      developers: [],\n      selection: [],\n      selectAll: false\n    };\n    _this.fetchData = _this.fetchData.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(AssigningDeveloper, [{\n    key: \"fetchData\",\n    value: function fetchData() {\n      var _this2 = this;\n\n      Axios.get('http://localhost:3002/user', {\n        withCredentials: true\n      }).then(function (res) {\n        if (res.status === 200) {\n          Axios.get(\"http://localhost:3002/get_all_developers/\".concat(_this2.props.match.params.proid), {\n            headers: {\n              Authorization: \"Bearer \".concat(res.data)\n            }\n          }).then(function (res) {\n            _this2.setState({\n              data: res.data\n            });\n          });\n          Axios.get(\"http://localhost:3002/getdeveloperinproject/\".concat(_this2.props.match.params.proid)).then(function (res) {\n            if (res.status === 200) _this2.setState({\n              developers: res.data.developers\n            });\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var toggleSelection = this.toggleSelection,\n          toggleAll = this.toggleAll,\n          isSelected = this.isSelected,\n          logSelection = this.logSelection;\n      var _this$state = this.state,\n          data = _this$state.data,\n          selectAll = _this$state.selectAll;\n      var checkboxProps = {\n        selectAll: selectAll,\n        isSelected: isSelected,\n        toggleSelection: toggleSelection,\n        toggleAll: toggleAll,\n        selectType: \"checkbox\"\n      };\n      return React.createElement(\"div\", {\n        style: {\n          width: \"80%\",\n          margin: \"5em 15%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, this.props.match.params.id), React.createElement(\"button\", {\n        onClick: logSelection,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Log Selection\"), React.createElement(CheckboxTable, Object.assign({\n        style: {\n          textAlign: \"center\"\n        },\n        ref: function ref(r) {\n          return _this3.checkboxTable = r;\n        },\n        columns: [{\n          Header: \"Name\",\n          accessor: \"name\",\n          width: 130\n        }, {\n          Header: \"ContactNo.\",\n          accessor: \"contactNo\",\n          width: 100\n        }, {\n          Header: 'Skills',\n          accessor: \"skills\"\n        }],\n        data: data,\n        onFetchData: this.fetchData\n      }, checkboxProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return AssigningDeveloper;\n}(React.Component);\n\nexport default AssigningDeveloper;","map":{"version":3,"sources":["/home/abhinav/Intern_work/workupdatesite/websiteforzias/frontend/ziasupdate/src/components/assigning_developer/AssigningDevelopers.js"],"names":["React","ReactTable","checkboxHOC","Axios","CheckboxTable","AssigningDeveloper","props","toggleSelection","key","shift","row","selection","state","keyIndex","indexOf","slice","push","setState","toggleAll","selectAll","wrappedInstance","checkboxTable","getWrappedInstance","currentRecords","getResolvedState","sortedData","forEach","item","_original","_id","isSelected","includes","logSelection","get","withCredentials","then","res","status","put","match","params","proid","developers","headers","Authorization","data","fetchData","bind","checkboxProps","selectType","width","margin","id","textAlign","r","Header","accessor","Component"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,aAAvB;AACA,OAAOC,WAAP,MAAwB,iCAAxB;AACA,OAAO,6BAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,aAAa,GAAC,IAAIF,WAAJ,CAAgBD,UAAhB,CAApB;;IAEMI,kB;;;;;AACF,8BAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AACd,4FAAMA,KAAN;;AADc,UA2BlBC,eA3BkB,GA2BA,UAACC,GAAD,EAAMC,KAAN,EAAaC,GAAb,EAAqB;AACrC,UAAIC,SAAS,sBAAO,MAAKC,KAAL,CAAWD,SAAlB,CAAb;;AACA,UAAME,QAAQ,GAAGF,SAAS,CAACG,OAAV,CAAkBN,GAAlB,CAAjB;;AACA,UAAIK,QAAQ,IAAI,CAAhB,EAAmB;AACjBF,QAAAA,SAAS,gCACJA,SAAS,CAACI,KAAV,CAAgB,CAAhB,EAAmBF,QAAnB,CADI,sBAEJF,SAAS,CAACI,KAAV,CAAgBF,QAAQ,GAAG,CAA3B,CAFI,EAAT;AAID,OALD,MAKO;AACLF,QAAAA,SAAS,CAACK,IAAV,CAAeR,GAAf;AACD;;AACD,YAAKS,QAAL,CAAc;AAAEN,QAAAA,SAAS,EAATA;AAAF,OAAd;AACD,KAvCiB;;AAAA,UAyClBO,SAzCkB,GAyCN,YAAM;AAEhB,UAAMC,SAAS,GAAG,MAAKP,KAAL,CAAWO,SAAX,GAAuB,KAAvB,GAA+B,IAAjD;AACA,UAAMR,SAAS,GAAG,EAAlB;;AACA,UAAIQ,SAAJ,EAAe;AACb,YAAMC,eAAe,GAAG,MAAKC,aAAL,CAAmBC,kBAAnB,EAAxB;;AACA,YAAMC,cAAc,GAAGH,eAAe,CAACI,gBAAhB,GAAmCC,UAA1D;AACAF,QAAAA,cAAc,CAACG,OAAf,CAAuB,UAAAC,IAAI,EAAI;AAC7BhB,UAAAA,SAAS,CAACK,IAAV,CAAeW,IAAI,CAACC,SAAL,CAAeC,GAA9B;AACD,SAFD;AAGD;;AACD,YAAKZ,QAAL,CAAc;AAAEE,QAAAA,SAAS,EAATA,SAAF;AAAaR,QAAAA,SAAS,EAATA;AAAb,OAAd;AACD,KArDiB;;AAAA,UAuDlBmB,UAvDkB,GAuDL,UAAAtB,GAAG,EAAI;AAElB,aAAO,MAAKI,KAAL,CAAWD,SAAX,CAAqBoB,QAArB,CAA8BvB,GAA9B,CAAP;AACD,KA1DiB;;AAAA,UA4DlBwB,YA5DkB,GA4DH,YAAM;AACnB7B,MAAAA,KAAK,CAAC8B,GAAN,CAAU,4BAAV,EAAuC;AAACC,QAAAA,eAAe,EAAC;AAAjB,OAAvC,EAA+DC,IAA/D,CAAoE,UAAAC,GAAG,EAAE;AACvE,YAAGA,GAAG,CAACC,MAAJ,KAAa,GAAhB,EAAoB;AAClBlC,UAAAA,KAAK,CAACmC,GAAN,kDAAoD,MAAKhC,KAAL,CAAWiC,KAAX,CAAiBC,MAAjB,CAAwBC,KAA5E,GAAoF;AAACC,YAAAA,UAAU,EAAC,MAAK9B,KAAL,CAAWD;AAAvB,WAApF,EAAsH;AAACgC,YAAAA,OAAO,EAAC;AAACC,cAAAA,aAAa,mBAAYR,GAAG,CAACS,IAAhB;AAAd;AAAT,WAAtH;AACD;AACF,OAJD;AAKD,KAlEiB;;AAEd,UAAKjC,KAAL,GAAW;AACTiC,MAAAA,IAAI,EAAC,EADI;AAETH,MAAAA,UAAU,EAAC,EAFF;AAGT/B,MAAAA,SAAS,EAAC,EAHD;AAITQ,MAAAA,SAAS,EAAC;AAJD,KAAX;AAMA,UAAK2B,SAAL,GAAe,MAAKA,SAAL,CAAeC,IAAf,uDAAf;AARc;AAUjB;;;;gCACU;AAAA;;AACP5C,MAAAA,KAAK,CAAC8B,GAAN,CAAU,4BAAV,EAAuC;AAACC,QAAAA,eAAe,EAAC;AAAjB,OAAvC,EAA+DC,IAA/D,CAAoE,UAAAC,GAAG,EAAE;AACrE,YAAGA,GAAG,CAACC,MAAJ,KAAa,GAAhB,EAAoB;AAChBlC,UAAAA,KAAK,CAAC8B,GAAN,oDAAsD,MAAI,CAAC3B,KAAL,CAAWiC,KAAX,CAAiBC,MAAjB,CAAwBC,KAA9E,GAAsF;AAACE,YAAAA,OAAO,EAAC;AAACC,cAAAA,aAAa,mBAAYR,GAAG,CAACS,IAAhB;AAAd;AAAT,WAAtF,EACCV,IADD,CACM,UAAAC,GAAG,EAAE;AACP,YAAA,MAAI,CAACnB,QAAL,CAAc;AAAC4B,cAAAA,IAAI,EAACT,GAAG,CAACS;AAAV,aAAd;AACH,WAHD;AAIA1C,UAAAA,KAAK,CAAC8B,GAAN,uDAAyD,MAAI,CAAC3B,KAAL,CAAWiC,KAAX,CAAiBC,MAAjB,CAAwBC,KAAjF,GAA0FN,IAA1F,CAA+F,UAAAC,GAAG,EAAE;AAClG,gBAAGA,GAAG,CAACC,MAAJ,KAAa,GAAhB,EACE,MAAI,CAACpB,QAAL,CAAc;AAACyB,cAAAA,UAAU,EAACN,GAAG,CAACS,IAAJ,CAASH;AAArB,aAAd;AACH,WAHD;AAIH;AACJ,OAXD;AAYH;;;6BA6CQ;AAAA;;AAAA,UACCnC,eADD,GAC0D,IAD1D,CACCA,eADD;AAAA,UACkBW,SADlB,GAC0D,IAD1D,CACkBA,SADlB;AAAA,UAC6BY,UAD7B,GAC0D,IAD1D,CAC6BA,UAD7B;AAAA,UACyCE,YADzC,GAC0D,IAD1D,CACyCA,YADzC;AAAA,wBAEsB,KAAKpB,KAF3B;AAAA,UAECiC,IAFD,eAECA,IAFD;AAAA,UAEQ1B,SAFR,eAEQA,SAFR;AAKP,UAAM6B,aAAa,GAAG;AACpB7B,QAAAA,SAAS,EAATA,SADoB;AAEpBW,QAAAA,UAAU,EAAVA,UAFoB;AAGpBvB,QAAAA,eAAe,EAAfA,eAHoB;AAIpBW,QAAAA,SAAS,EAATA,SAJoB;AAKpB+B,QAAAA,UAAU,EAAE;AALQ,OAAtB;AASE,aACE;AAAK,QAAA,KAAK,EAAE;AAACC,UAAAA,KAAK,EAAC,KAAP;AAAaC,UAAAA,MAAM,EAAC;AAApB,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAK,KAAK7C,KAAL,CAAWiC,KAAX,CAAiBC,MAAjB,CAAwBY,EAA7B,CADA,EAEA;AAAQ,QAAA,OAAO,EAAEpB,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAFA,EAGE,oBAAC,aAAD;AAAe,QAAA,KAAK,EAAE;AAACqB,UAAAA,SAAS,EAAC;AAAX,SAAtB;AACI,QAAA,GAAG,EAAE,aAAAC,CAAC;AAAA,iBAAI,MAAI,CAACjC,aAAL,GAAqBiC,CAAzB;AAAA,SADV;AAEE,QAAA,OAAO,EAAE,CACP;AACEC,UAAAA,MAAM,EAAE,MADV;AAEEC,UAAAA,QAAQ,EAAC,MAFX;AAGEN,UAAAA,KAAK,EAAC;AAHR,SADO,EAMP;AACEK,UAAAA,MAAM,EAAE,YADV;AAEEC,UAAAA,QAAQ,EAAC,WAFX;AAGEN,UAAAA,KAAK,EAAC;AAHR,SANO,EAWP;AACEK,UAAAA,MAAM,EAAE,QADV;AAEEC,UAAAA,QAAQ,EAAC;AAFX,SAXO,CAFX;AAkBE,QAAA,IAAI,EAAEX,IAlBR;AAmBE,QAAA,WAAW,EAAE,KAAKC;AAnBpB,SAoBME,aApBN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAHF,EAyBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAzBF,CADF;AA6BD;;;;EAjH0BhD,KAAK,CAACyD,S;;AAmHvC,eAAepD,kBAAf","sourcesContent":["import React from 'react';\nimport ReactTable from 'react-table';\nimport checkboxHOC from \"react-table/lib/hoc/selectTable\";\nimport \"react-table/react-table.css\";\nimport Axios from 'axios';\n\nconst CheckboxTable=new checkboxHOC(ReactTable);\n\nclass AssigningDeveloper extends React.Component{\n    constructor(props){\n        super(props);\n        this.state={\n          data:[],\n          developers:[],\n          selection:[],\n          selectAll:false\n        };\n        this.fetchData=this.fetchData.bind(this);\n          \n    }\n    fetchData(){\n        Axios.get('http://localhost:3002/user',{withCredentials:true}).then(res=>{\n            if(res.status===200){\n                Axios.get(`http://localhost:3002/get_all_developers/${this.props.match.params.proid}`,{headers:{Authorization: `Bearer ${res.data}`}})\n                .then(res=>{\n                    this.setState({data:res.data});\n                })\n                Axios.get(`http://localhost:3002/getdeveloperinproject/${this.props.match.params.proid}`).then(res=>{\n                  if(res.status===200)\n                    this.setState({developers:res.data.developers});\n                })\n            }\n        })\n    }\n\n\n    toggleSelection = (key, shift, row) => {\n      let selection = [...this.state.selection];\n      const keyIndex = selection.indexOf(key);\n      if (keyIndex >= 0) {\n        selection = [\n          ...selection.slice(0, keyIndex),\n          ...selection.slice(keyIndex + 1)\n        ];\n      } else {\n        selection.push(key);\n      }\n      this.setState({ selection });\n    };\n\n    toggleAll = () => {\n    \n      const selectAll = this.state.selectAll ? false : true;\n      const selection = [];\n      if (selectAll) {\n        const wrappedInstance = this.checkboxTable.getWrappedInstance();\n        const currentRecords = wrappedInstance.getResolvedState().sortedData;\n        currentRecords.forEach(item => {\n          selection.push(item._original._id);\n        });\n      }\n      this.setState({ selectAll, selection });\n    };\n  \n    isSelected = key => {\n     \n      return this.state.selection.includes(key);\n    };\n  \n    logSelection = () => {\n      Axios.get('http://localhost:3002/user',{withCredentials:true}).then(res=>{\n        if(res.status===200){\n          Axios.put(`http://localhost:3002/assigndevelopers/${this.props.match.params.proid}`,{developers:this.state.selection},{headers:{Authorization: `Bearer ${res.data}`}})\n        }\n      })\n    };\n   \n  \n    render() {\n      const { toggleSelection, toggleAll, isSelected, logSelection } = this;\n      const { data , selectAll } = this.state;\n\n\n      const checkboxProps = {\n        selectAll,\n        isSelected,\n        toggleSelection,\n        toggleAll,\n        selectType: \"checkbox\",\n      };\n\n\n        return (\n          <div style={{width:\"80%\",margin:\"5em 15%\"}}>\n          <h1>{this.props.match.params.id}</h1>\n          <button onClick={logSelection}>Log Selection</button>\n            <CheckboxTable style={{textAlign:\"center\"}}\n                ref={r => this.checkboxTable = r}\n              columns={[\n                {\n                  Header: \"Name\",\n                  accessor:\"name\",\n                  width:130\n                },\n                {\n                  Header: \"ContactNo.\",\n                  accessor:\"contactNo\",\n                  width:100\n                },\n                {\n                  Header: 'Skills',\n                  accessor:\"skills\"\n                }\n              ]}\n              data={data}\n              onFetchData={this.fetchData}\n              {...checkboxProps}\n            />\n            <br />\n          </div>\n        );\n      }\n}\nexport default AssigningDeveloper;"]},"metadata":{},"sourceType":"module"}